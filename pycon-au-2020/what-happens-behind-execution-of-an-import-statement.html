<!DOCTYPE html>
<html lang="en">
<head>
      <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://use.fontawesome.com/2231f865fc.js"></script>
    <link rel="shortcut icon" href="https://pyvideo.org/theme/images/favicon.png">
    <meta name="google-site-verification" content="cHuieLjiIIDAHKKXSPPDsnbLEz9QgVNTi23qy_mOzDU" />

    <title>PyVideo.org &middot; What happens behind execution of an `import` statement?</title>

    <link href="https://pyvideo.org/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="PyVideo.org Full Atom Feed" />
    <link href="https://pyvideo.org/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="PyVideo.org Full RSS Feed" />
    <link href="https://pyvideo.org/feeds/event_pycon-au-2020.atom.xml" type="application/atom+xml" rel="alternate" title="PyVideo.org Event Atom Feed" />
    <link href="https://pyvideo.org/feeds/event_pycon-au-2020.rss.xml" type="application/rss+xml" rel="alternate" title="PyVideo.org Event RSS Feed" />

    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha256-7s5uDGW3AHqw6xtJmNNtr+OBRJUlgkNJEo78P4b0yRw= sha512-nNo+yCHEyn0smMxSswnf/OnX6/KwJuZTlNZBjauKhTK0c+zT+q5JOCx0UFhXQ6rJR9jg6Es8gPuD2uZcYDLqSw=="
          crossorigin="anonymous">

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <link href="/theme/css/ie10-viewport-bug-workaround.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="/theme/css/base.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->


  <meta property="og:site_name" content="PyVideo.org" />
  <meta property="og:title" content="What happens behind execution of an `import` statement?" />
  <meta property="og:type" content="video" />
  <meta property="og:url" content="https://pyvideo.org/pycon-au-2020/what-happens-behind-execution-of-an-import-statement.html" />
    <meta property="og:image" content="https://i.ytimg.com/vi/WrWxThyEl9Y/hqdefault.jpg?sqp=-oaymwEcCNACELwBSFXyq4qpAw4IARUAAIhCGAFwAcABBg==&rs=AOn4CLAyBpIYxjhXkOmRUgJEXciiU9XPqw" />
    <meta property="og:image:secure_url" content="https://i.ytimg.com/vi/WrWxThyEl9Y/hqdefault.jpg?sqp=-oaymwEcCNACELwBSFXyq4qpAw4IARUAAIhCGAFwAcABBg==&rs=AOn4CLAyBpIYxjhXkOmRUgJEXciiU9XPqw" />


    <meta name="tags" content="PyCon" />
    <meta name="tags" content="PyConAU" />
    <meta name="tags" content="PyConline" />
    <meta name="tags" content="Python" />
    <meta name="tags" content="ShivashisPadhi" />
    <meta name="tags" content="pyconau" />
    <meta name="tags" content="pyconau_2020" />
</head>

<body>
<a class="github" href="https://github.com/pyvideo/pyvideo/wiki/How-to-Contribute-Media">
    <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 2;" src="/images/contribute_to_me_right_red_aa0000.png" alt="Contribute Media" />
</a>
  <div class="header notice clearfix">
    A thank you to everyone who makes this possible:
    <a href="/pages/thank-you-contributors.html">Read More</a>
  </div>
  <header id="banner" class="header clearfix">
    <nav class="header__nav"><div class="container">
      <ul class="nav">
        <li role="presentation">
          <a href="https://pyvideo.org/index.html"><i class="fa fa-fw fa-home"></i> <span>Start</span></a>
        </li>

        <li role="presentation" class="active">
          <a href="https://pyvideo.org/events.html"><i class="fa fa-fw fa-list-ul"></i> <span>Events</span></a>
        </li>

        <li role="presentation">
          <a href="https://pyvideo.org/tags.html"><i class="fa fa-fw fa-tags"></i> <span>Tags</span></a>
        </li>

        <li role="presentation">
          <a href="https://pyvideo.org/speakers.html"><i class="fa fa-fw fa-users"></i> <span>Speakers</span></a>
        </li>

          <li role="presentation"
>
            <a href="https://pyvideo.org/pages/about.html"><i class="fa fa-fw fa-info"></i> <span>About</span></a>
          </li>
          <li role="presentation"
style="display: none;">
            <a href="https://pyvideo.org/pages/thank-you-contributors.html"><i class="fa fa-fw fa-info"></i> <span>Thank You</span></a>
          </li>
          <li role="presentation"
style="display: none;">
            <a href="https://pyvideo.org/pages/thanks-will-and-sheila.html"><i class="fa fa-fw fa-info"></i> <span></span></a>
          </li>
      </ul>
    </div></nav>
    <div class="container">
      <h3 class="text-muted header__title">
      <a href="https://pyvideo.org/"><img src="/theme/images/logo.png" alt="" style="height:50px"> <span><i>Py</i>Video</span> <strong></strong></a>
      </h3>
      <div class="header__searchbox">
        <form method="GET" action="/search.html">
          <input name="q" type="search" placeholder="Type / to search...">
        </form>
      </div>
    </div>
  </header>
  <div class="container">

<section id="content" class="body">
  <header>
    <h2 class="entry-title">
      <a href="https://pyvideo.org/pycon-au-2020/what-happens-behind-execution-of-an-import-statement.html" rel="bookmark"
         title="Permalink to What happens behind execution of an `import` statement?">What happens behind execution of an `import` statement?
      </a>
    </h2>
 
  </header>

  <footer class="post-info">
    <time class="published" datetime="2020-09-05T00:00:00+00:00">
      <i class="fa fa-calendar"></i> Sat 05 September 2020
    </time>
    <address class="vcard author">
      By
        <a class="url fn" href="https://pyvideo.org/speaker/shivashis-padhi.html">Shivashis Padhi</a>
    </address>
  </footer><!-- /.post-info -->

  <div class="entry-content">
<ul class="nav nav-tabs" role="tablist">
    <li class="active" role="presentation"><a href="#youtube" aria-controls="youtube" role="tab" data-toggle="tab">
        <i class="fa fa-fw fa-youtube"></i> YouTube
    </a></li>
</ul>

<div class="tab-content">
    <div role="tabpanel" class="tab-pane active" id="youtube">
        <div class="embed-responsive embed-responsive-16by9 videocontainer">
            <iframe class="embed-responsive-item" src="https://www.youtube.com/embed/WrWxThyEl9Y" title="Video for " frameborder="0" allowfullscreen></iframe>
        </div>
    </div>
</div>    <h3>Description</h3><p>Shivashis Padhi</p>
<p><a class="reference external" href="https://2020.pycon.org.au/program/Q7GJNZ">https://2020.pycon.org.au/program/Q7GJNZ</a></p>
<p>### Introduction</p>
<p>Every Python script involves import statements. And if you develop software with Python, you might already have come across import and path related errors like ImportError, ModuleNotFoundError, etc.</p>
<p>It's important to know the import mechanics, both for general knowledge, and to develop custom plugins to tweak the import system. In this talk, we'd discuss in detail about how the import system works, its components and what tasks they perform respectively.</p>
<p>### Who should attend this talk?
This talk is most suitable for beginner to intermediate level Pythonistas.</p>
<p>### How does the talk proceed?
- The talk starts with packages in Python, and how to organize Python files in order to make them distributable, and importable.
- It proceeds to discuss about $PATH and $PYTHONPATH, and how they are used to enable system-wide imports, and how capable are Python's path based import handlers, if they let a programmer import from remote URIs, etc.
- Different types of packages such as regular packages, namespace packages, frozen modules, etc. are discussed.
- After that, some key components are introduced i.e sys.modules and how modules are refreshed and regulated in runtime, what finders and loaders are, and what 'import protocol' is, sys.meta_path, sys.path_hooks.</p>
<p>The talk then goes in detail about finders, the default finders in Python, spec object, and its functioning.
After finders, loaders are discussed with sample code, explaining the steps involved from processing a spec, and creating, executing, and loading a module to sys.modules.
- After finders and loaders, 'import hooks' are discussed i.e how Python allows injection of custom components to handle a pre-defined import statement.
- This follows a demonstration of import hooks, implementation of a meta_path finder Class which protects importing of modules from an http server with a token exchange. (So the source code is protected, and it can be logged who requested the source code by a signature to act against misuse.)
- The demonstration is followed by listing some important use cases of import hooks, and how folks have used it in the past.</p>
<p>### What can someone get out of this talk?</p>
<p>An understanding of the import system's mechanics, which helps to quickly debug and fix path/import related errors.
Knowledge of import hooks, to build custom import related plugins.</p>
<p>### Outline</p>
<p>Time Duration- Topic</p>
<p>0- 4 Introduction to packages and how to organize packages</p>
<p>4- 7 Types of packages in python, and the default ones the import system supports.</p>
<p>7- 12 Components of import system- sys.modules- finders and loaders- chronology of import related tasks</p>
<p>12- 15 Finders, examples of finders, and how they function, find_spec function</p>
<p>15- 17 sys.meta_path, sys.path_hooks in detail</p>
<p>17- 19 Introduction to PEP 302, and import hooks</p>
<p>19- 22 explain loaders with template code</p>
<p>23- 25 code walkthrough and demonstration of an implementation of import hooks</p>
<p>25- 26 briefly cover 'importing of submodules' topic with an example</p>
<p>26- 28 present use-cases of import hooks, and usage in industry, conclude.</p>
<p>28- 30 Q&amp;A</p>
<p>### Prerequisites:</p>
<ul class="simple">
<li>Syntactic knowledge of Python</li>
<li>Should have come across import/$PYTHONPATH related errors</li>
</ul>
<p>If you don't know either and still like the talk idea, please follow [this gist](<a class="reference external" href="https://gist.github.com/plant99/9fee5dbe73f25d4da9c7fb956a36b889">https://gist.github.com/plant99/9fee5dbe73f25d4da9c7fb956a36b889</a>) to 'intentionally' come across the errors :)</p>
<p>## Content URLs</p>
<p>[WIP slides](<a class="reference external" href="https://speakerdeck.com/plant99/wip-what-happens-behind-execution-of-an-import-statement">https://speakerdeck.com/plant99/wip-what-happens-behind-execution-of-an-import-statement</a>)</p>
<p>[Longer description of the talk idea as blogpost](<a class="reference external" href="https://plant99.bitbucket.io/pages/blogs/ten.html">https://plant99.bitbucket.io/pages/blogs/ten.html</a>)</p>
<p>Produced by NDV: <a class="reference external" href="https://youtube.com/channel/UCQ7dFBzZGlBvtU2hCecsBBg?sub_confirmation=1">https://youtube.com/channel/UCQ7dFBzZGlBvtU2hCecsBBg?sub_confirmation=1</a></p>
<p>Python, PyCon, PyConAU, PyConline</p>
<p>Sat Sep  5 11:00:00 2020 at Curlyboi</p>

  </div><!-- /.entry-content -->

<div class="details-content">
  <h3>Details</h3>
  <ul>
      <li>
        Event:
        <a href="https://pyvideo.org/events/pycon-au-2020.html">PyCon AU 2020</a>
      </li>
        <li>Language: English</li>
        <li>
            Media URL: <a href="https://www.youtube.com/watch?v=WrWxThyEl9Y" rel="external">YouTube</a>        </li>
        <li>
          Tags:
<a href="https://pyvideo.org/tag/pycon/">PyCon</a>, <a href="https://pyvideo.org/tag/pyconau/">PyConAU</a>, <a href="https://pyvideo.org/tag/pyconline/">PyConline</a>, <a href="https://pyvideo.org/tag/python/">Python</a>, <a href="https://pyvideo.org/tag/shivashispadhi/">ShivashisPadhi</a>, <a href="https://pyvideo.org/tag/pyconau/">pyconau</a>, <a href="https://pyvideo.org/tag/pyconau_2020/">pyconau_2020</a>        </li>
        <li>
          Related URLs:
          <ul class="related-urls">
<li><a href="https://2020.pycon.org.au/program/">
Conference schedule                </a></li><li><a href="https://youtube.com/channel/UCQ7dFBzZGlBvtU2hCecsBBg?sub_confirmation=1">
https://youtube.com/channel/UCQ7dFBzZGlBvtU2hCecsBBg?sub_confirmation=1                </a></li><li><a href="https://plant99.bitbucket.io/pages/blogs/ten.html">
https://plant99.bitbucket.io/pages/blogs/ten.html                </a></li><li><a href="https://2020.pycon.org.au/program/Q7GJNZ">
https://2020.pycon.org.au/program/Q7GJNZ                </a></li><li><a href="https://gist.github.com/plant99/9fee5dbe73f25d4da9c7fb956a36b889">
https://gist.github.com/plant99/9fee5dbe73f25d4da9c7fb956a36b889                </a></li><li><a href="https://speakerdeck.com/plant99/wip-what-happens-behind-execution-of-an-import-statement">
https://speakerdeck.com/plant99/wip-what-happens-behind-execution-of-an-import-statement                </a></li>          </ul>
        </li>

  </ul>
</div>
    <a href="https://github.com/pyvideo/data/blob/main/pycon-au-2020/videos/what-happens-behind-execution-of-an-import-statement-shivashis-padhi-pyconline-au-2020.json">
      <i class="fa fa-pencil-square-o"></i> Improve this page
    </a>

</section>

    <footer class="footer">
      <p>
        &copy;
        <a href="https://github.com/pyvideo/pyvideo/blob/main/LICENSE">PyVideo.org</a> |
        <a href="https://github.com/pyvideo/data/blob/main/LICENSE">pyvideo/data</a>
      </p>
    </footer>

      <script src="https://code.jquery.com/jquery-2.2.0.min.js"></script>
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha256-KXn5puMvxCw+dAYznun+drMdG1IFl3agK0p/pqT9KAo= sha512-2e8qq0ETcfWRI4HJBzQiA3UoyFk6tbNyG+qSaIBZLyW9Xf3sWZHN/lxe9fTh1U45DpPf07yj94KsUHHWe4Yk1A==" crossorigin="anonymous"></script>
      <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
      <script src="/theme/js/ie10-viewport-bug-workaround.js"></script>
      <script src="/theme/js/thumb.js"></script>
      <script src="/theme/js/language.js"></script>
      <script src="/theme/js/searchbar.js"></script>
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-72949800-2']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = 'https://ssl.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
  </div>
</body>
</html>