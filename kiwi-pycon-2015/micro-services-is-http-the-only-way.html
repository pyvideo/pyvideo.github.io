<!DOCTYPE html>
<html lang="en">
<head>
      <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://use.fontawesome.com/2231f865fc.js"></script>
    <link rel="shortcut icon" href="https://pyvideo.org/theme/images/favicon.png">
    <meta name="google-site-verification" content="cHuieLjiIIDAHKKXSPPDsnbLEz9QgVNTi23qy_mOzDU" />

    <title>PyVideo.org &middot; Micro-Services: Is HTTP the only way?</title>

    <link href="https://pyvideo.org/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="PyVideo.org Full Atom Feed" />
    <link href="https://pyvideo.org/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="PyVideo.org Full RSS Feed" />
    <link href="https://pyvideo.org/feeds/event_kiwi-pycon-2015.atom.xml" type="application/atom+xml" rel="alternate" title="PyVideo.org Event Atom Feed" />
    <link href="https://pyvideo.org/feeds/event_kiwi-pycon-2015.rss.xml" type="application/rss+xml" rel="alternate" title="PyVideo.org Event RSS Feed" />

    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha256-7s5uDGW3AHqw6xtJmNNtr+OBRJUlgkNJEo78P4b0yRw= sha512-nNo+yCHEyn0smMxSswnf/OnX6/KwJuZTlNZBjauKhTK0c+zT+q5JOCx0UFhXQ6rJR9jg6Es8gPuD2uZcYDLqSw=="
          crossorigin="anonymous">

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <link href="/theme/css/ie10-viewport-bug-workaround.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="/theme/css/base.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->


  <meta property="og:site_name" content="PyVideo.org" />
  <meta property="og:title" content="Micro-Services: Is HTTP the only way?" />
  <meta property="og:type" content="video" />
  <meta property="og:url" content="https://pyvideo.org/kiwi-pycon-2015/micro-services-is-http-the-only-way.html" />
    <meta property="og:image" content="https://i.ytimg.com/vi/O1qaoykYIXY/hqdefault.jpg" />
    <meta property="og:image:secure_url" content="https://i.ytimg.com/vi/O1qaoykYIXY/hqdefault.jpg" />
    <meta property="og:image:type" content="image/jpeg" />


</head>

<body>
<a class="github" href="https://github.com/pyvideo/pyvideo/wiki/How-to-Contribute-Media">
    <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 2;" src="/images/contribute_to_me_right_red_aa0000.png" alt="Contribute Media" />
</a>
  <div class="header notice clearfix">
    A thank you to everyone who makes this possible:
    <a href="/pages/thank-you-contributors.html">Read More</a>
  </div>
  <header id="banner" class="header clearfix">
    <nav class="header__nav"><div class="container">
      <ul class="nav">
        <li role="presentation">
          <a href="https://pyvideo.org/index.html"><i class="fa fa-fw fa-home"></i> <span>Start</span></a>
        </li>

        <li role="presentation" class="active">
          <a href="https://pyvideo.org/events.html"><i class="fa fa-fw fa-list-ul"></i> <span>Events</span></a>
        </li>

        <li role="presentation">
          <a href="https://pyvideo.org/tags.html"><i class="fa fa-fw fa-tags"></i> <span>Tags</span></a>
        </li>

        <li role="presentation">
          <a href="https://pyvideo.org/speakers.html"><i class="fa fa-fw fa-users"></i> <span>Speakers</span></a>
        </li>

          <li role="presentation"
>
            <a href="https://pyvideo.org/pages/about.html"><i class="fa fa-fw fa-info"></i> <span>About</span></a>
          </li>
          <li role="presentation"
style="display: none;">
            <a href="https://pyvideo.org/pages/thank-you-contributors.html"><i class="fa fa-fw fa-info"></i> <span>Thank You</span></a>
          </li>
          <li role="presentation"
style="display: none;">
            <a href="https://pyvideo.org/pages/thanks-will-and-sheila.html"><i class="fa fa-fw fa-info"></i> <span></span></a>
          </li>
      </ul>
    </div></nav>
    <div class="container">
      <h3 class="text-muted header__title">
      <a href="https://pyvideo.org/"><img src="/theme/images/logo.png" alt="" style="height:50px"> <span><i>Py</i>Video</span> <strong></strong></a>
      </h3>
      <div class="header__searchbox">
        <form method="GET" action="/search.html">
          <input name="q" type="search" placeholder="Search...">
        </form>
      </div>
    </div>
  </header>
  <div class="container">

<section id="content" class="body">
  <header>
    <h2 class="entry-title">
      <a href="https://pyvideo.org/kiwi-pycon-2015/micro-services-is-http-the-only-way.html" rel="bookmark"
         title="Permalink to Micro-Services: Is HTTP the only way?">Micro-Services: Is HTTP the only way?
      </a>
    </h2>
 
  </header>

  <footer class="post-info">
    <time class="published" datetime="2015-09-05T00:00:00+00:00">
      <i class="fa fa-calendar"></i> Sat 05 September 2015
    </time>
    <address class="vcard author">
      By
        <a class="url fn" href="https://pyvideo.org/speaker/ben-shaw.html">Ben Shaw</a>
    </address>
  </footer><!-- /.post-info -->

  <div class="entry-content">
<ul class="nav nav-tabs" role="tablist">
    <li class="active" role="presentation"><a href="#youtube" aria-controls="youtube" role="tab" data-toggle="tab">
        <i class="fa fa-fw fa-youtube"></i> YouTube
    </a></li>
</ul>

<div class="tab-content">
    <div role="tabpanel" class="tab-pane active" id="youtube">
        <div class="embed-responsive embed-responsive-16by9 videocontainer">
            <iframe class="embed-responsive-item" src="https://www.youtube.com/embed//O1qaoykYIXY" title="Video for " frameborder="0" allowfullscreen></iframe>
        </div>
    </div>
</div>    <h3>Description</h3><div class="section" id="introduction">
<h4>Introduction</h4>
<p>Over the past few years, micro-services have been gaining popularity due
to their advantages over traditional monolithic architectures. It
becomes easier to horizontally scale the heavier portions of an
application; you're not tied to the same OS or programming language for
the entire application, meaning you can easily slot in the best tool for
the job; and finally, you can quickly build the entire application in
dynamic yet less performant languages, then rebuild any bottlenecks with
faster (but slower to develop) languages.</p>
<p>As a basic example, rather than directly communicating with a database
for user authentication, a web front-end would make an HTTP request to
another lightweight REST service to check credentials.</p>
</div>
<div class="section" id="an-example-application">
<h4>An Example Application</h4>
<p>In order to elucidate the difference between monolithic and
micro-services, we will use a simple Social-Network web application that
allows users to post 141 character messages. A user must first sign up,
then log in with a username and password, then they can post their
messages publicly. A user can then follow any other user, and receive
real time updates when that user posts. While the behaviour is simple,
there are a number of different concepts that are explored: template
rendering, user signup and authentication, data storage and notification
delegation.</p>
</div>
<div class="section" id="a-monolithic-version">
<h4>A Monolithic Version</h4>
<p>The first version of the will be a single Django application. The talk
does not go into detail on the source code, instead briefly discusses
the views, databases (tables and queries) and overall architecture at a
high level.</p>
</div>
<div class="section" id="the-http-micro-service-version">
<h4>The HTTP Micro-Service Version</h4>
<p>In order to deconstruct the monolith into micro-services, we look at
different functions of the application: message viewing, user signup and
authentication, data storage and search, and user notification. Django
is kept as the front-end, but the databases for authentication, data
storage and searching and user-follows are each transformed into their
own micro-service. Flask is used as the HTTP framework for these
services, with SQLAlchemy for database as necessary. Some source code is
discussed (mostly in terms of standard Django database access c.f. HTTP)
but this is also quite high level. The talk will also cover what HTTP
comes with &quot;out of the box&quot;, in terms of authentication, deployment and
scalability.</p>
</div>
<div class="section" id="alternative-transports">
<h4>Alternative Transports</h4>
<p>After the micro-services have been split, we can start to think about
different transports that might be more appropriate (or at least more
interesting) in some circumstances.</p>
<div class="section" id="introducing-a-message-queue">
<h5>Introducing a Message Queue</h5>
<p>From a user perspective, HTTP is a synchronous protocol, so making other
synchronous HTTP calls inside an HTTP handler doesn't introduce much
complexity. Message queues, on the other hand, are asynchronous by
nature. We look at using message queues for delegating user
notifications (which don't require a response, and are easy to handle),
then for authentication, data storage and searching â€“ each requiring a
slightly different &quot;level&quot; of &quot;synchronicity&quot; and a need to be
shoehorned into HTTP differently. We'll look at code for message
producing and consuming and discuss architecture again.</p>
<p>Message queues are already widely used for handling intensive background
tasks, so we'll look at how they compare to HTTP in this application
(for security and deployment), and briefly also talk about
cross-platform compatibility.</p>
</div>
<div class="section" id="lower-down-the-stack-raw-sockets">
<h5>Lower Down the Stack - Raw Sockets</h5>
<p>If, for some reason, the overhead of HTTP or a message queue is too
high, direct socket communication might be better. We'll look at a
Python TCP server for user authentication, and a UDP server for handling
user notifications, and example code for both. Also discussed are the
security implications (it's DIY all the way), performance, and how you
might scale these.</p>
</div>
</div>
<div class="section" id="conclusion">
<h4>Conclusion</h4>
<p>Finally we'll look at a comparison overview for all these different
methods and summarise with the pros and cons of each.</p>
</div>

  </div><!-- /.entry-content -->

<div class="details-content">
  <h3>Details</h3>
  <ul>
      <li>
        Event:
        <a href="https://pyvideo.org/events/kiwi-pycon-2015.html">Kiwi PyCon 2015</a>
      </li>
        <li>Language: English</li>
        <li>
            Media URL: <a href="http://youtu.be/O1qaoykYIXY" rel="external">YouTube</a>        </li>

  </ul>
</div>
    <a href="https://github.com/pyvideo/data/blob/master/kiwi-pycon-2015/videos/micro-services-is-http-the-only-way.json">
      <i class="fa fa-pencil-square-o"></i> Improve this page
    </a>

</section>

    <footer class="footer">
      <p>
        &copy;
        <a href="https://github.com/pyvideo/pyvideo/blob/master/LICENSE">PyVideo.org</a> |
        <a href="https://github.com/pyvideo/data/blob/master/LICENSE">pyvideo/data</a>
      </p>
    </footer>

      <script src="https://code.jquery.com/jquery-2.2.0.min.js"></script>
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha256-KXn5puMvxCw+dAYznun+drMdG1IFl3agK0p/pqT9KAo= sha512-2e8qq0ETcfWRI4HJBzQiA3UoyFk6tbNyG+qSaIBZLyW9Xf3sWZHN/lxe9fTh1U45DpPf07yj94KsUHHWe4Yk1A==" crossorigin="anonymous"></script>
      <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
      <script src="/theme/js/ie10-viewport-bug-workaround.js"></script>
      <script src="/theme/js/thumb.js"></script>
      <script src="/theme/js/language.js"></script>
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-72949800-2']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = 'https://ssl.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
  </div>
</body>
</html>