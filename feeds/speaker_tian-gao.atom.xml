<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>PyVideo.org - Tian Gao</title><link href="https://pyvideo.org/" rel="alternate"></link><link href="https://pyvideo.org/feeds/speaker_tian-gao.atom.xml" rel="self"></link><id>https://pyvideo.org/</id><updated>2025-05-17T00:00:00+00:00</updated><subtitle></subtitle><entry><title>The Chaotic locals() and How We Fixed It</title><link href="https://pyvideo.org/pycon-us-2025/the-chaotic-locals-and-how-we-fixed-it.html" rel="alternate"></link><published>2025-05-17T00:00:00+00:00</published><updated>2025-05-17T00:00:00+00:00</updated><author><name>Tian Gao</name></author><id>tag:pyvideo.org,2025-05-17:/pycon-us-2025/the-chaotic-locals-and-how-we-fixed-it.html</id><summary type="html">&lt;h3&gt;Description&lt;/h3&gt;&lt;p&gt;Historically, Python stored local variables in a dict, which was convenient and consistent. Users can use locals() to get the same dict Python is using for the local variables. As Python evolves, local variables were moved to the frame stack to improve performance, which made it invisible from Python â€¦&lt;/p&gt;</summary><content type="html">&lt;h3&gt;Description&lt;/h3&gt;&lt;p&gt;Historically, Python stored local variables in a dict, which was convenient and consistent. Users can use locals() to get the same dict Python is using for the local variables. As Python evolves, local variables were moved to the frame stack to improve performance, which made it invisible from Python code. However, locals() was kept because we still need a way to access some or all of the local variables in a frame.&lt;/p&gt;
&lt;p&gt;This became chaotic when we try to change the local variables through the dict - which is a common requirement for something like a debugger. What could possibly go wrong? Is the update remembered? Could it work with exec()? Will a random read in your code bites you? How can we reliably update the value of a local variable in a debugger?&lt;/p&gt;
&lt;p&gt;Well the short answer is - we can't, not until PEP 667.&lt;/p&gt;
&lt;p&gt;This talk will be about how we fixed the chaos in PEP 667 and what's the modern way to deal with local variables in a debugger.&lt;/p&gt;
</content><category term="PyCon US 2025"></category></entry></feed>